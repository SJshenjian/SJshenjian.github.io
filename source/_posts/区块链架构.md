---
title: 区块链架构
date: 2019-05-19 12:57:20
category: 区块链
tag: 区块链
---

# 1. 区块链机构与传统IT架构区别

去中心化

# 2. 区块链架构模型

## 2.1 区块链系统的共性

(1) **共识机制** 我看到的就是你看到的，各个分布节点使用相同的共识算法可以得到对建模对象相同的认识，也可以确信其他人的认识和自己是一致的。
(2) **状态可验证性** 系统当前所有的状态都是确定性的，任何币的状态都可以被各自既定的确定性交易或流程规则所验证。
(3) **唯一性** 任何状态资产的消费只能发生一次，即区块链的防“双花”的安全性。
(4) **不可篡改** 密码学方式组织的区块链确保了已经提交到区块中的交易不可更改，否则会导致全盘修改。
(5) **基于公/私钥的验证** 区块链完全采用基于密码学的公/私钥方式通过签名来认证个人身份，所有的资产消费和验证也都围绕公/私钥进行。
(6) **区块链治理**

## 2.2 区块链系统的差异性

(1) 共识主体不同 (2) 建模对象范围不同 (3) 建模对象操纵能力不同 
(4) 法律法规支持程度不同 (5) 隐私和匿名性不同 (6) 交易延迟确认的不同
(7) 性能和可扩展性不同

# 3. 区块链参考模型

## 3.1 区块链高阶架构模型

面向链合约服务的高阶层次化架构包括三大部分： 业务合约和账本、区块链平台服务、UI界面/API接口

(1) **业务合约和账本** 整个区块链生态系统的核心就是要能支持各种契约，即业务合约，并在相关参与者间共享交易账本。
其分为合约流程、合约服务、合约代码、价值共享账本四大模块。 
(2) **区块链平台服务** 区块链平台服务提供所有区块链平台层面的公共服务，平台服务同具体的业务无关，是可以为所有业务合约所共享的服务。各种平台服务可以是链上的，也可以是链外的。
区块链平台服务主要包括合约合规、安全控制、链上共识、链服务管理、治理(链上、链外)、开发运维。
(3) **UI界面/API接口**
这部分是提供整个区块链服务对外的交互接口，主要包括个性化任务列表、个性化DApp、IoT协议适配和价值锚定、人工智能代理、开放API、业务合约浏览器、区块链浏览器、资产浏览器

## 3.2 区块链跨链本质与架构模型

**跨链的本质是价值等价交换**

## 3.3 区块链部署模型

**服务化、容器化**

# 4. 区块链数据模型

数据模型的设计关乎整个区块链的并发性能

(1) **账户模型** 账户模型对于建模数据的表达最直接，也形同于传统的“应用+数据库”的结构。账户模型将一个或多个账户实例的所有状态以key-value的形式组织起来，形成一定的存储结构，并以此为基础构建全局状态哈希树。以太坊记录各个账户状态就是采用账户模型。
(2) **UTXO模型** UTXO模型以比特币的数据模型为代表，只不过为花费交易状态输出的只有一个值：代币金额，代币金额总数在输入和输出上保持一致
UTXO的最大特色在于交易的并行处理能力：属于同一个转出账户的所有交易可以并行执行，只要童话一个交易不出现在同一个区块当中。另一个特点是UTXO数据库不会随着时间而膨胀，新的交易未花输出同时伴随着旧的交易未花输出的消费，所以基本上可以保持相对稳定的状态。
(3) **混合模型** 账户模型和UTXO模型可能会被结合起来来应用。以太坊的扩容方案--分区就是在账户模型的基础上使用UTXO模型进行跨分片的通信。

# 5. 区块链能力模型

(1) 建模能力和业务自由度 (2) 共识主体范围 (3) 法律法规支持度 
(4) 链安全(博弈经济) (5) 应用隔离 (6) 权限控制
(7) 易用性 (8)性能(吞吐量和确认时间) (9) 链治理(自动化程度)
(10) 跨链机制 (11) 隐私保护和匿名性

