---
title: 浏览器间接性崩溃服务器400错误排查分析
date: 2019-02-14 14:43:16
category: 工作干货
tag: 工作干货
---

## 1. 问题现象描述

最近谷歌浏览器间接性的崩溃，服务器400错误，所用livebos-tomcat为6.5

## 2. 排查过程

多次记录出现错误的日期，搜索上下文，未发现任何服务器报错的信息；
恰好计划tomcat升级为livebos-tomcat8.5，故优先升级tomcat为8.5；
后仍然出现该错误，只不过有了错误提示： java.lang.IllegalArgumentException: Request header is too large
联想最近开发的新功能rest方式调用oa接口，流程传递json串，可能因为json串的过长原因导致；

## 3. 解决方案

**普通tomcat** 

在server.xml中 

``` bash
<Connector connectionTimeout="20000" port="8080" protocol="HTTP/1.1" redirectPort="8443" maxPostSize="0" maxHttpHeaderSize ="102400"/> 
```
处加上maxHttpHeaderSize ="102400"

**SpringBoot**

在application.properties文件中添加 `server.max-http-header-size=102400`
